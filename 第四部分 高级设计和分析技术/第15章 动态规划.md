## 第15章 动态规划

动态规划与分治方法类似，都是通过组合子问题的解来求解原问题。分治方法将问题划分为互不相交的子问题，递归的求解子问题，再将每个子问题的解组合起来以求出原问题的解。

动态规划应用于子问题重叠的情况，即不同的子问题具有公共的子问题。在这种情况下分治算法会做许多不必要的工作。

动态规划方法通常用来求解最优化问题。这类问题可以有很多可行解，每一个解都有一个值，我们希望寻找具有最优值的解。我们称这样的解为问题的一个最优解，而不是最优解，因为可能有多个解都达到最优值。

我们通常按照如下四个步骤来设计一个动态规划算法：

1. 刻画一个最优解的结构特征。
2. 递归的定义最优解的值。
3. 计算最优解的值，通常采用自底向上的方法。
4. 利用计算出的信息构造一个最优解。

步骤1-3是动态规划算法求解问题的基础。如果我们仅仅需要一个最优解的值，而非解本身，可以忽略步骤4。

### 15.3 动态规划原理

本节我们关注适合应用动态规划方法求解的最优化问题应该具备的两个要素：**最优子结构**和**子问题重叠**。

##### 最优子结构

用动态规划方法求解最优化问题的第一步就是刻画最优解的结构。**如果一个问题的最优解包含其子问题的最优解，我们就称此问题具有最优子结构性质**。使用动态规划方法时，我们用子问题的最优解来构造原问题的最优解。

你会发现，在发掘最优子结构性质的过程中，实际上遵循了如下的通用模式：

1. 证明问题最优解的第一个组成部分是做出一个选择。
2. 对于一个给定问题，在其可能的第一步选择中，你假设已经知道哪种选择才会得到最优解。
3. 给定可获得最优解的选择后，你确定这次选择会产生哪些子问题。
4. 作为构成原问题最优解的组成部分，每个子问题的解就是它本身的最优解。

保持子问题空间尽可能简单，只在必要时才扩展它。

##### 重叠子问题

适合用动态规划方法求解的最优化问题应该具备的第二个性质是子问题空间必须足够小，即问题的递归算法会反复的求解相同的子问题，而不是一直生成新的子问题。

如果递归算法反复求解相同的子问题，我们就称最优化问题具有重叠子问题性质。

适合用分治法求解的问题通常在递归的每一步都会生成全新的子问题。动态规划算法通常利用重叠问题性质：**对每个子问题求解一次，将解存入一个表中，当再次需要这个子问题时直接查表，每次查表的代价为O(1)**。

